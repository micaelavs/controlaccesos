ALTER TABLE `empleados_x_ubicacion` ADD COLUMN `borrado` INT NULL DEFAULT 0 AFTER `principal`;

ALTER TABLE `contratista_x_ubicacion` ADD COLUMN `borrado` INT(10) NULL DEFAULT 0 AFTER `acceso_fin`;

ALTER TABLE `advertencias_genericas` ADD COLUMN `borrado` INT NULL DEFAULT 0 AFTER `texto`;

ALTER TABLE `accesos` DROP PRIMARY KEY, ADD PRIMARY KEY (`id`, `hora_ingreso`); 

ALTER TABLE `accesos` 
PARTITION BY RANGE( UNIX_TIMESTAMP(hora_ingreso) ) (
        PARTITION START VALUES LESS THAN (UNIX_TIMESTAMP('2017-01-01 00:00:00')),
        PARTITION p2017 VALUES LESS THAN (UNIX_TIMESTAMP('2018-01-01 00:00:00')),
        PARTITION p2018 VALUES LESS THAN (UNIX_TIMESTAMP('2019-01-01 00:00:00')),
        PARTITION p2019 VALUES LESS THAN (UNIX_TIMESTAMP('2020-01-01 00:00:00')),
        PARTITION p2020 VALUES LESS THAN (UNIX_TIMESTAMP('2021-01-01 00:00:00')),
        PARTITION p2021 VALUES LESS THAN (UNIX_TIMESTAMP('2022-01-01 00:00:00')),
        PARTITION p2022 VALUES LESS THAN (UNIX_TIMESTAMP('2023-01-01 00:00:00')),
        PARTITION p2023 VALUES LESS THAN (UNIX_TIMESTAMP('2024-01-01 00:00:00')),
        PARTITION p2024 VALUES LESS THAN (UNIX_TIMESTAMP('2025-01-01 00:00:00')),
        PARTITION p2025 VALUES LESS THAN (UNIX_TIMESTAMP('2026-01-01 00:00:00')),
        PARTITION p2026 VALUES LESS THAN (UNIX_TIMESTAMP('2027-01-01 00:00:00')),
        PARTITION p2027 VALUES LESS THAN (UNIX_TIMESTAMP('2028-01-01 00:00:00')),
        PARTITION p2028 VALUES LESS THAN (UNIX_TIMESTAMP('2029-01-01 00:00:00')),
        PARTITION p2029 VALUES LESS THAN (UNIX_TIMESTAMP('2030-01-01 00:00:00')),
        PARTITION p2030 VALUES LESS THAN (UNIX_TIMESTAMP('2031-01-01 00:00:00')),
        PARTITION future VALUES LESS THAN MAXVALUE
);

INSERT INTO db_version VALUES('22', now());